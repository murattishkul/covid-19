(this.webpackJsonpinfovis_final=this.webpackJsonpinfovis_final||[]).push([[0],{185:function(e){e.exports=JSON.parse('[{"id":"AL","val":"01"},{"id":"AK","val":"02"},{"id":"AS","val":"60"},{"id":"AZ","val":"04"},{"id":"AR","val":"05"},{"id":"CA","val":"06"},{"id":"CO","val":"08"},{"id":"CT","val":"09"},{"id":"DE","val":"10"},{"id":"DC","val":"11"},{"id":"FL","val":"12"},{"id":"FM","val":"64"},{"id":"GA","val":"13"},{"id":"GU","val":"66"},{"id":"HI","val":"15"},{"id":"ID","val":"16"},{"id":"IL","val":"17"},{"id":"IN","val":"18"},{"id":"IA","val":"19"},{"id":"KS","val":"20"},{"id":"KY","val":"21"},{"id":"LA","val":"22"},{"id":"ME","val":"23"},{"id":"MH","val":"68"},{"id":"MD","val":"24"},{"id":"MA","val":"25"},{"id":"MI","val":"26"},{"id":"MN","val":"27"},{"id":"MS","val":"28"},{"id":"MO","val":"29"},{"id":"MT","val":"30"},{"id":"NE","val":"31"},{"id":"NV","val":"32"},{"id":"NH","val":"33"},{"id":"NJ","val":"34"},{"id":"NM","val":"35"},{"id":"NY","val":"36"},{"id":"NC","val":"37"},{"id":"ND","val":"38"},{"id":"MP","val":"69"},{"id":"OH","val":"39"},{"id":"OK","val":"40"},{"id":"OR","val":"41"},{"id":"PW","val":"70"},{"id":"PA","val":"42"},{"id":"PR","val":"72"},{"id":"RI","val":"44"},{"id":"SC","val":"45"},{"id":"SD","val":"46"},{"id":"TN","val":"47"},{"id":"TX","val":"48"},{"id":"UM","val":"74"},{"id":"UT","val":"49"},{"id":"VT","val":"50"},{"id":"VA","val":"51"},{"id":"VI","val":"78"},{"id":"WA","val":"53"},{"id":"WV","val":"54"},{"id":"WI","val":"55"},{"id":"WY","val":"56"}]')},225:function(e,t,a){},381:function(e,t,a){},392:function(e,t,a){},395:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(45),l=a.n(c),s=(a(225),a(113)),o=a(15),r=a(114),d=a(75),j=a(413),u=a(184),f=a.n(u),h=a(3),v=function(){return Object(h.jsxs)("div",{className:"loader",children:[Object(h.jsx)(f.a,{type:"ThreeDots",color:"#FFFFFF",height:100,width:100}),Object(h.jsx)("p",{style:{fontSize:"30px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",color:"#eee"},children:"Please wait while awesome data is fetching..."}),Object(h.jsx)("p",{style:{fontSize:"30px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",color:"#eee"},children:"it may take up to a minute..."})]})},b=a(185),x=a(416),O=Object(j.a)().domain([1,200]).range(["#ffedea","#ffcec5","#ffad9f","#ff8a75","#ff5533","#e2492d","#be3d26","#9a311f","#782618"]),p=Object(j.a)().domain([1,25e3]).range(["#ffedea","#ffcec5","#ffad9f","#ff8a75","#ff5533","#e2492d","#be3d26","#9a311f","#782618"]),y={VT:[50,-8],NH:[34,2],MA:[30,-1],RI:[28,2],CT:[35,10],NJ:[34,1],DE:[33,0],MD:[47,10],DC:[49,21]},g=function(e){var t=e.data,a=e.setTooltipContent,i=e.selectedOption,c=Object(n.useState)([]),l=Object(o.a)(c,2),r=l[0],j=l[1];return Object(n.useEffect)((function(){var e={};t.forEach((function(t){"retweets"===(null===i||void 0===i?void 0:i.value)?e[t.state]=e[t.state]&&e[t.state].retweet_count>t.retweet_count?e[t.state]:t:"likes"===(null===i||void 0===i?void 0:i.value)?e[t.state]=e[t.state]&&e[t.state].likes>t.likes?e[t.state]:t:e[t.state]=e[t.state]?[].concat(Object(s.a)(e[t.state]),[t]):[t]})),j(e)}),[j,t,i]),Object(h.jsx)("div",{children:r!==[]?Object(h.jsx)(d.ComposableMap,{projection:"geoAlbersUsa","data-tip":"",children:Object(h.jsx)(d.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json",children:function(e){var t=e.geographies;return t.map((function(e){var n=("all"!==(null===i||void 0===i?void 0:i.value)?Object.keys(r).map((function(e){return r[e]})):Object.keys(r).map((function(e){return{state:e,tweets:r[e].length}}))).find((function(t){return t.state===e.properties.name}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(d.Geography,{style:{default:{outline:"none"},hover:{outline:"none"},pressed:{outline:"none"}},geography:e,fill:"retweets"===(null===i||void 0===i?void 0:i.value)||"likes"===(null===i||void 0===i?void 0:i.value)?O(n?parseInt(n.likes):"#EEE"):p(n?parseInt(n.tweets):"#EEE"),onMouseEnter:function(){console.log("sdfsdf");var t=e.properties.name;"retweets"===(null===i||void 0===i?void 0:i.value)?a("".concat(t," \u2014 ").concat(parseInt(null===n||void 0===n?void 0:n.retweet_count)," maximum retweets")):"likes"===(null===i||void 0===i?void 0:i.value)?a("".concat(t," \u2014 ").concat(parseInt(null===n||void 0===n?void 0:n.likes)," maximum likes")):a("".concat(t," \u2014 ").concat(parseInt(null===n||void 0===n?void 0:n.tweets)," total tweets"))},onMouseLeave:function(){a("")}},e.rsmKey),t.map((function(e){var t=Object(x.a)(e),a=b.find((function(t){return t.val===e.id}));return Object(h.jsx)("g",{children:a&&t[0]>-160&&t[0]<-67&&(-1===Object.keys(y).indexOf(a.id)?Object(h.jsx)(d.Marker,{coordinates:t,children:Object(h.jsx)("text",{y:"2",fontSize:14,textAnchor:"middle",children:a.id})}):Object(h.jsx)(d.Annotation,{subject:t,dx:y[a.id][0],dy:y[a.id][1],children:Object(h.jsx)("text",{x:4,fontSize:14,alignmentBaseline:"middle",children:a.id})}))},e.rsmKey+"-name")}))]})}))}})}):Object(h.jsx)(v,{})})},m=a(408),w=a(409),S=a(411),k=a(108),A=a(109),I=a(87),C=a(118),M=a(213),D=a(107),E=Object(j.a)().domain([1,2e4]).range(["#ffedea","#ffcec5","#ffad9f","#ff8a75","#ff5533","#e2492d","#be3d26","#9a311f","#782618"]),_=function(e){var t=e.overseasData,a=e.sortedCountries,i=Object(n.useState)([]),c=Object(o.a)(i,2),l=c[0],s=c[1];return Object(n.useEffect)((function(){var e=a.map((function(e){return{country:e,tweets:t[e].length}})).slice(Math.max(165,-2));s(e)}),[a,t]),Object(h.jsx)(m.a,{width:"100%",height:"98%",children:Object(h.jsxs)(w.a,{width:"100%",height:"100%",data:l,layout:"vertical",margin:{top:5,right:5,left:40,bottom:5},children:[Object(h.jsx)(S.a,{strokeDasharray:"3 3"}),Object(h.jsx)(k.a,{dataKey:"tweets"}),Object(h.jsx)(A.a,{type:"category",dataKey:"country"}),Object(h.jsx)(I.a,{}),Object(h.jsx)(C.a,{dataKey:"tweets",height:20,stroke:"#8884d8",layout:"vertical"}),Object(h.jsx)(M.a,{dataKey:"tweets",children:l.map((function(e,t){return Object(h.jsx)(D.a,{fill:E(e.tweets)})}))})]})})},T=a(412),R=a(199),K=function(e){var t=e.sortedTimeData;return console.log(t),Object(h.jsx)(m.a,{width:"90%",height:"90%",style:{zIndex:999},children:Object(h.jsxs)(T.a,{width:"90%",height:"80%",data:t,margin:{top:10,right:3,left:0,bottom:10},children:[Object(h.jsx)(S.a,{strokeDasharray:"3 3"}),Object(h.jsx)(k.a,{dataKey:"created_at",angle:-15,textAnchor:"end"}),Object(h.jsx)(A.a,{}),Object(h.jsx)(I.a,{}),Object(h.jsx)(R.a,{type:"monotone",dataKey:"tweet_us",stackId:"1",stroke:"#8884d8",fill:"#8884d8"}),Object(h.jsx)(R.a,{type:"monotone",dataKey:"tweet_uk",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d"}),Object(h.jsx)(R.a,{type:"monotone",dataKey:"tweet_in",stackId:"1",stroke:"#ffc658",fill:"#ffc658"})]})})},N=a(101),L=a(102),F=a(200),P=a(212),U=a(84),z=a(417),G=a(203),V=[{name:"Group A",value:400},{name:"Group B",value:300},{name:"Group C",value:300},{name:"Group D",value:200}],B=function(e){var t=Math.PI/180,a=e.cx,n=e.cy,i=e.midAngle,c=e.innerRadius,l=e.outerRadius,s=e.startAngle,o=e.endAngle,r=e.fill,d=e.payload,j=e.percent,u=e.value,f=Math.sin(-t*i),v=Math.cos(-t*i),b=a+(l+10)*v,x=n+(l+10)*f,O=a+(l+30)*v,p=n+(l+30)*f,y=O+22*(v>=0?1:-1),g=p,m=v>=0?"start":"end";return Object(h.jsxs)("g",{children:[Object(h.jsx)("text",{x:a,y:n,dy:8,textAnchor:"middle",fill:r,children:d.name}),Object(h.jsx)(U.a,{cx:a,cy:n,innerRadius:c,outerRadius:l,startAngle:s,endAngle:o,fill:r}),Object(h.jsx)(U.a,{cx:a,cy:n,startAngle:s,endAngle:o,innerRadius:l+6,outerRadius:l+10,fill:r}),Object(h.jsx)("path",{d:"M".concat(b,",").concat(x,"L").concat(O,",").concat(p,"L").concat(y,",").concat(g),stroke:r,fill:"none"}),Object(h.jsx)("circle",{cx:y,cy:g,r:2,fill:r,stroke:"none"}),Object(h.jsx)("text",{x:y+12*(v>=0?1:-1),y:g,textAnchor:m,fill:"#333",children:"PV ".concat(u)}),Object(h.jsx)("text",{x:y+12*(v>=0?1:-1),y:g,dy:18,textAnchor:m,fill:"#999",children:"(Rate ".concat((100*j).toFixed(2),"%)")})]})};(function(e){Object(F.a)(a,e);var t=Object(P.a)(a);function a(){var e;Object(N.a)(this,a);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={activeIndex:0},e.onPieEnter=function(t,a){e.setState({activeIndex:a})},e}return Object(L.a)(a,[{key:"render",value:function(){return Object(h.jsx)(m.a,{width:"100%",height:"100%",children:Object(h.jsx)(z.a,{width:400,height:400,children:Object(h.jsx)(G.a,{activeIndex:this.state.activeIndex,activeShape:B,data:V,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,fill:"#8884d8",dataKey:"value",onMouseEnter:this.onPieEnter})})})}}]),a}(n.PureComponent)).demoUrl="https://codesandbox.io/s/pie-chart-with-customized-active-shape-y93si";var H,J,W,Y=function(e){var t=e.title;return Object(h.jsx)("div",{style:{backgroundColor:"#272727",borderBottom:"1px black solid"},children:Object(h.jsx)("p",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",color:"#eee"},children:t})})},X=a(116),Z=a(207),q=X.a.div(H||(H=Object(r.a)(["\n    display: flex;\n    width: 100%;\n    height: 95%;\n    margin-bottom: 10px;\n"]))),Q=X.a.div(J||(J=Object(r.a)(["\n    width: 40%;\n    align-self:center;\n    display:flex;\n    flex-direction:column;\n    justify-content: stretch;\n    height:100%;\n    border: 1px solid black;\n    margin-right: 10px;\n    box-shadow: 0 0 10px rgba(0,0,0,0.7);\n"]))),$=X.a.div(W||(W=Object(r.a)(["\n    height: 100%;\n    background:#252525;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n"]))),ee=function(e){var t=e.data,a=e.selectedOption,i=e.sortedCountries,c=e.overseasData,l=e.sortedTimeData,s=Object(n.useState)(""),r=Object(o.a)(s,2),d=r[0],j=r[1];return Object(h.jsxs)(q,{children:[Object(h.jsxs)(Q,{children:[Object(h.jsx)(Y,{title:"US Election Tweets by States"}),Object(h.jsxs)($,{children:[Object(h.jsx)(g,{data:t,setTooltipContent:j,selectedOption:a}),Object(h.jsx)(Z.a,{children:d})]})]}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"60%",height:"100%",marginLeft:10},children:[Object(h.jsx)("div",{style:{display:"flex",width:"100%",height:"45%",marginBottom:10},children:Object(h.jsxs)("div",{style:{width:"100%",alignSelf:"center",display:"flex",flexDirection:"column",justifyContent:"stretch",height:"100%",marginRight:10,border:"1px solid black",boxShadow:"0 0 10px rgba(0,0,0,0.7)"},children:[Object(h.jsx)(Y,{title:"Us Election Tweets By Country"}),Object(h.jsx)("div",{style:{height:"100%",alignItems:"center",display:"flex",background:"#252525"},children:Object(h.jsx)(_,{overseasData:c,sortedCountries:i,data:t})})]})}),Object(h.jsxs)("div",{style:{height:"55%",display:"flex",flexDirection:"column",justifyContent:"center",marginTop:10,border:"1px solid black",boxShadow:"0 0 10px rgba(0,0,0,0.7)"},children:[Object(h.jsx)(Y,{title:"Car Accidents by Geocoded Location"}),Object(h.jsx)("div",{style:{height:"100%",alignItems:"center",display:"flex",justifyContent:"center",background:"#252525"},children:Object(h.jsx)(K,{data:t,style:{alignSelf:"center"},sortedTimeData:l})})]})]})]})},te=a(210),ae=(a(381),[{value:"retweets",label:"Sort by Retweets"},{value:"likes",label:"Sort by Likes"},{value:"all",label:"All"}]),ne=function(e){var t=e.selectedOption,a=e.setSelectedOption;return console.log(t),Object(h.jsx)("div",{style:{width:300,alignSelf:"center",marginLeft:30},children:Object(h.jsx)(te.a,{defaultValue:ae[2],onChange:a,options:ae})})},ie=function(e){var t=e.selectedOption,a=e.setSelectedOption;return Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",border:"1px solid black",width:"100%",margin:20,backgroundColor:"#252525",boxShadow:"0 0 10px rgba(0,0,0,0.7)"},children:[Object(h.jsx)(ne,{selectedOption:t,setSelectedOption:a}),Object(h.jsx)("div",{style:{justifyContent:"center",alignSelf:"center"},children:Object(h.jsx)("p",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",color:"#eee",fontSize:"20px"},children:"US Election 2020 Tweets"})}),Object(h.jsxs)("div",{style:{width:300,display:"flex",flexDirection:"column",justifyContent:"space-around"},children:[Object(h.jsx)("p",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",color:"#eee",fontSize:"13px"},children:"Made by Murat Tishkul id20162035 "}),Object(h.jsx)("p",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",color:"#eee",fontSize:"13px"},children:" for InvoVis class of Spring 2021"})]})]})},ce=(a(392),a(415));var le=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)([]),l=Object(o.a)(c,2),r=(l[0],l[1]),d=Object(n.useState)([]),j=Object(o.a)(d,2),u=j[0],f=j[1],b=Object(n.useState)([]),x=Object(o.a)(b,2),O=x[0],p=x[1],y=Object(n.useState)([]),g=Object(o.a)(y,2),m=g[0],w=g[1],S=Object(n.useState)({value:"all",label:"All"}),k=Object(o.a)(S,2),A=k[0],I=k[1],C=Object(n.useState)(!1),M=Object(o.a)(C,2),D=M[0],E=M[1];return Object(n.useEffect)((function(){console.log("start"),E(!0),Object(ce.a)("/hashtag_joebiden.csv").then((function(e){i(e.filter((function(e){return e.country.indexOf("America")>-1})));var t={};e.filter((function(e){return-1===e.country.indexOf("America")&&""!==e.country})).forEach((function(e){t[e.country]=t[e.country]?[].concat(Object(s.a)(t[e.country]),[e]):[e]}));var a=Object.keys(t);a.sort((function(e,a){return t[e].length-t[a].length})),p(a),f(t);var n=a.slice(Math.max(183,1)).map((function(e){return t[e].sort((function(e,t){return new Date(e.created_at)-new Date(t.created_at)}))})).flat();console.log(n);var c={};n.forEach((function(e){c[e.created_at.substring(0,10)]={tweet_us:0,tweet_uk:0,tweet_in:0,created_at:e.created_at.substring(0,10)}})),n.forEach((function(e,t){"United Kingdom"===e.country?c[e.created_at.substring(0,10)].tweet_uk++:"United States"===e.country?c[e.created_at.substring(0,10)].tweet_us++:"India"===e.country&&c[e.created_at.substring(0,10)].tweet_in++})),w(Object.keys(c).map((function(e){return c[e]}))),r(e),console.log("end")})).finally((function(){return E(!1)}))}),[]),console.log("this is my data ",u),console.log(A),console.log(m),Object(h.jsxs)("div",{className:"App",style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"".concat(D?"space-between":"space-evenly"),alignItems:"center",marginLeft:30,marginRight:30},children:[Object(h.jsx)(ie,{style:{height:"10%"},selectedOption:A,setSelectedOption:I}),D?Object(h.jsx)(v,{}):Object(h.jsx)(ee,{data:a,style:{height:"90%",marginTop:10},selectedOption:A,sortedCountries:O,overseasData:u,sortedTimeData:m}),D&&Object(h.jsx)("div",{style:{height:"30%"}})]})};l.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(le,{})}),document.getElementById("root"))}},[[395,1,2]]]);
//# sourceMappingURL=main.36ca8a44.chunk.js.map